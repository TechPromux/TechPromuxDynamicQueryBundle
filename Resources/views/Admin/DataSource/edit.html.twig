{% extends "SonataAdminBundle:CRUD:edit.html.twig" %}

{% block javascripts %}
    {{ parent() }}
    <script>
        $(document).ready(function(){

            $('#sonata-ba-field-container-{{ form.vars.id }}_plainPassword label').append(
                '<i class="glyphicon glyphicon-eye-open" style="margin-left: 5px;" id="{{ form.vars.id }}_plainPassword_show"></i>'
            );
            $('#sonata-ba-field-container-{{ form.vars.id }}_plainPassword label').append(
                '<i class="glyphicon glyphicon-eye-close" style="margin-left: 5px;" id="{{ form.vars.id }}_plainPassword_hide"></i>'
            );

            $(document).on('click', '#{{ form.vars.id }}_plainPassword_show', function(){
                $('#{{ form.vars.id }}_plainPassword_show').hide();
                $('#{{ form.vars.id }}_plainPassword_hide').show();
                $('#{{ form.vars.id }}_plainPassword').attr('type','text');
            });

            $(document).on('click', '#{{ form.vars.id }}_plainPassword_hide', function(){
                $('#{{ form.vars.id }}_plainPassword_hide').hide();
                $('#{{ form.vars.id }}_plainPassword_show').show();
                $('#{{ form.vars.id }}_plainPassword').attr('type','password');
            });

            $('#{{ form.vars.id }}_plainPassword_hide').hide();

            $('#sonata-ba-field-container-{{ form.vars.id }}_driverType').addClass('col-md-4').css({'padding-left':'0px'});
            $('#sonata-ba-field-container-{{ form.vars.id }}_dbHost').addClass('col-md-6');
            $('#sonata-ba-field-container-{{ form.vars.id }}_dbPort').addClass('col-md-2');

            $('#sonata-ba-field-container-{{ form.vars.id }}_dbName').addClass('col-md-12').css({'padding-left':'0px'});

            $('#sonata-ba-field-container-{{ form.vars.id }}_dbUser').addClass('col-md-5').css({'padding-left':'0px'});
            $('#sonata-ba-field-container-{{ form.vars.id }}_plainPassword').addClass('col-md-7').css({'padding-left':'0px'});
        });
    </script>
{% endblock %}